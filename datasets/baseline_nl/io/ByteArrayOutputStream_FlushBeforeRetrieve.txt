flush() or close() should be invoked before toByteArray() or toString() to get the complete contents.
